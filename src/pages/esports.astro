---
import Layout from '../layouts/Layout.astro'
import EsportCard from '../components/EsportCard.astro';
import { Image } from 'astro:assets';
import NSELogo from '../images/logos/NSELogo.png'
import UELogo from '../images/logos/UELogo.png'

import { getCollection } from "astro:content";
let esports = await getCollection("esports")
esports = esports.filter(esport => esport.id != "newesport") // <-- Change this if you rename the New Esport guide
esports = esports.sort((a, b) => a.id.localeCompare(b.id));
---
<Layout title="Esports">
    <div class="flex flex-col text-xl w-full text-center justify-center items-center text-text-body">
        <p class="w-3/4">
            We offer a variety of esports with regular competitions through NSE and Nuel/University Esports. Check out what we offer, and find links to their discords below!
        </p>
        <div class="flex justify-center items-center gap-2 mt-5 max-lg:flex-col">
            <a href="https://www.nse.gg" class="p-5 bg-bg-offset rounded-xl hover:-translate-y-3 hover:shadow-2xl transition duration-150 shadow-lg">
            <Image
                src={NSELogo}
                alt="Logo of NSE Esports"
                class="max-h-24 object-contain max-w-48 w-48 h-24"
            />
            </a>
            <a href="https://www.thenuel.com" class="p-5 bg-bg-offset rounded-xl hover:-translate-y-3 hover:shadow-2xl transition duration-150 shadow-lg">
            <Image
                src={UELogo}
                alt="Logo of Nuel Esports / University Esports"
                class="max-h-24 object-contain max-w-48 w-48 h-24"
            />
            </a>
        </div>
    </div>

    
    <div class="flex w-full h-full justify-center">
        {esports.length > 0 ? 
            (
                <div class="p-10 grid grid-cols-3 max-lg:grid-cols-1 justify-items-center gap-5 w-5xl">
                    {esports.map(esport => <EsportCard esport={esport} />) }
                </div>

            )
            : (
                <div class="text-text-body text-3xl items-center text-center">
                    <p>No Esports Yet!</p>
                    <p>Check Back Soon!</p>
                </div>
            )
        }
    </div>
</Layout>