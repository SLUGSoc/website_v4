---
import { Image } from "astro:assets"
import LogoWhite from "../images/LogoWhite.png"
---

<nav id="navbar" class="fixed justify-between max-md:justify-center flex w-full transition duration-200 items-center z-100">
  <a href="/" class="mr-auto pl-5 w-30 max-md:hidden"><Image src={LogoWhite} alt={"Logo for SLUGSOC"} /></a>
  <a href="/" class="text-text-body p-5 border-b-3 border-transparent hover:border-text-title transition duration-300">Home</a>
  <a href="/events" class="text-text-body p-5 border-b-3 border-transparent hover:border-text-title transition duration-300">Events</a>
  <a href="/esports" class="text-text-body p-5 border-b-3 border-transparent hover:border-text-title transition duration-300">Esports</a>
  <a href="/committee" class="text-text-body p-5 border-b-3 border-transparent hover:border-text-title transition duration-300">Committee</a>
  <a href="/contact" class="text-text-body p-5 border-b-3 border-transparent hover:border-text-title transition duration-300">Contact</a>
</nav>

<script>
  const navbar = document.getElementById("navbar");
  const currentPath = window.location.pathname;
 
  for (const child of navbar?.children || []) {
    if (child.tagName === "A" && child.getAttribute("href") == currentPath) {
      child.classList.add('border-white')
      child.classList.remove('hover:border-text-title')
    } else {
      child.classList.remove('border-white')
      child.classList.add('hover:border-text-title')
    }
  }

  window.addEventListener("scroll", () => {
    if (window.scrollY > 150) {
      navbar?.classList.add("bg-bg-main");
    } else {
      navbar?.classList.remove("bg-bg-main");
    }
  });

  document.addEventListener("DOMContentLoaded", () => {
    if (window.scrollY > 150) {
      navbar?.classList.add("bg-bg-main");
    } else {
      navbar?.classList.remove("bg-bg-main");
    }
  });
</script>